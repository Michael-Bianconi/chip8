<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chip-8</title>
    <script src="/js/emulator.js"></script>
    <script src="/js/ui/pixelDisplay.js"></script>
    <script src="/js/ui/debugger.js"></script>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div style="float: left;">
        <canvas id="PixelDisplay"></canvas>
    </div>
    <div>
        <input type="button" class="fileInputButton" value="Upload binary (.bin)" onclick="document.getElementById('BinaryFileInput').click();" />
        <input type="button" class="fileInputButton" value="Upload assembly (.asm)" onclick="document.getElementById('AssemblyFileInput').click();" />
        <div id="Debugger" class="debuggerContainer"></div>
    </div>
    <input type="file" id="BinaryFileInput" style="display: none;" />
    <input type="file" id="AssemblyFileInput" style="display: none;" />
    <script>
        let fileInput = document.getElementById("BinaryFileInput");
        let canvas = document.getElementById("PixelDisplay");
        let debuggerContainer = document.getElementById("Debugger");
        canvas.width = 640;
        canvas.height = 320;
        let emulator = new Emulator();
        let display = new PixelDisplay(canvas);
        let debugg = new Debugger(debuggerContainer, emulator);
        emulator.read_on_change(fileInput);
        display.setPixel(4, 8, true);

    </script>
</body>
</html>